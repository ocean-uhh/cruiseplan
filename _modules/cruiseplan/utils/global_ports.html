

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cruiseplan.utils.global_ports &mdash; CruisePlan v0.2.2 v0.2.2.post1.dev3</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=393fce2e" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=3d9a3e92"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            CruisePlan v0.2.2
              <img src="../../../_static/cruise_plan_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage.html">Usage Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CLI Workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_workflows.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_workflows.html#workflow-paths">Workflow Paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_workflows.html#advanced-topics">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_workflows.html#troubleshooting">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Notebook Demo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../demo-output.html">CruisePlan Demo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Specifications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cruise_architecture.html">Cruise Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli_reference.html">CLI Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../yaml_reference.html">YAML Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../operation_types.html">Operation Types Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../calculations.html">Calculation Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../units_and_defaults.html">Units and defaults</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../global_ports.html">Port list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output_formats.html">Output formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help and Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/ocean-uhh/cruiseplan">GitHub Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/ocean-uhh/cruiseplan/blob/main/CONTRIBUTING.md">Contributing Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../project_structure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap.html">Development Roadmap</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CruisePlan v0.2.2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">cruiseplan.utils.global_ports</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for cruiseplan.utils.global_ports</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Global port configuration system for maritime cruise planning.</span>

<span class="sd">This module provides a registry of common maritime ports with their coordinates,</span>
<span class="sd">timezones, and metadata. Users can reference these ports by standard identifiers</span>
<span class="sd">(e.g., &#39;port_reykjavik&#39;) or override them with custom definitions in their YAML.</span>

<span class="sd">Features:</span>
<span class="sd">- Standard port registry with common research cruise destinations</span>
<span class="sd">- Timezone information for port operations</span>
<span class="sd">- Extensible system allowing user-defined port overrides</span>
<span class="sd">- Support for both string references and PortDefinition objects</span>

<span class="sd">Usage:</span>
<span class="sd">    # In YAML configuration</span>
<span class="sd">    departure_port: &quot;port_reykjavik&quot;  # Reference to global port</span>

<span class="sd">    # Or override with custom definition</span>
<span class="sd">    departure_port:</span>
<span class="sd">      name: &quot;Reykjavik_Custom&quot;</span>
<span class="sd">      latitude: 64.1466</span>
<span class="sd">      longitude: -21.9426</span>
<span class="sd">      timezone: &quot;GMT+0&quot;</span>
<span class="sd">      description: &quot;Custom port definition&quot;</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>

<span class="c1"># Global port registry with common maritime research destinations</span>
<span class="n">GLOBAL_PORTS</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># North Atlantic Research Ports</span>
    <span class="s2">&quot;port_reykjavik&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Reykjavik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Reykjavik, Iceland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">64.1466</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">21.9426</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Atlantic/Reykjavik&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Iceland capital, subpolar/Nordic Seas&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_nuuk&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Nuuk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Nuuk, Greenland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">64.1836</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">51.7214</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;GMT-3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Greenland capital, Arctic research gateway&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Norwegian Research Ports</span>
    <span class="s2">&quot;port_tromso&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Tromsø&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Tromsø, Norway&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">69.6496</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">18.9553</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Oslo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Northern Norway, Arctic gateway&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_trondheim&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Trondheim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Trondheim, Norway&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">63.4305</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">10.3951</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Oslo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Central Norway, Norwegian Sea operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_bergen&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bergen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bergen, Norway&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">60.3913</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">5.3221</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Oslo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Western Norway, Nordic Seas&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># UK Research Ports</span>
    <span class="s2">&quot;port_southampton&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Southampton&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Southampton, UK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">50.9097</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.4044</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;GMT+0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;UK south coast, Atlantic access&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># German Research Ports</span>
    <span class="s2">&quot;port_bremerhaven&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bremerhaven&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bremerhaven, Germany&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">53.5395</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">8.5809</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany, Arctic and Atlantic operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_hamburg&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Hamburg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Hamburg, Germany&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">53.5511</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">9.9937</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany, North Sea and Baltic access&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_emden&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Emden&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Emden, Germany&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">53.3594</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">7.2067</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany, North Sea operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_rostock&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock, Germany&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">54.0887</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">12.1308</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany, Baltic Sea operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_kiel&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Kiel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Kiel, Germany&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">54.3233</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">10.1394</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Berlin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany, Baltic Sea research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># French Research Ports</span>
    <span class="s2">&quot;port_brest&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Brest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Brest, France&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">48.3905</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.4860</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Paris&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;France, Atlantic operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_nice&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Nice&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Nice, France&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">43.7102</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">7.2620</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Paris&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;France, Mediterranean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Spanish Research Ports</span>
    <span class="s2">&quot;port_vigo&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Vigo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Vigo, Spain&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">42.2406</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">8.7207</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Madrid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Spain northwest, Atlantic margin research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_cadiz&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cadiz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cadiz, Spain&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">36.5298</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">6.2923</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Madrid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Spain southwest, Atlantic and Mediterranean&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_malaga&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Malaga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Malaga, Spain&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">36.7196</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.4204</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Madrid&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Spain south coast, Mediterranean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Mediterranean Research Ports</span>
    <span class="s2">&quot;port_heraklion&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Heraklion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Heraklion, Crete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">35.3387</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">25.1442</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Athens&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Crete, Eastern Mediterranean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_catania&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Catania&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Catania, Italy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">37.5079</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">15.0830</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Europe/Rome&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Sicily, Mediterranean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_limassol&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Limassol&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Limassol, Cyprus&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">34.6823</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">33.0464</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Nicosia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Cyprus, Eastern Mediterranean operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Atlantic Islands Research Ports</span>
    <span class="s2">&quot;port_las_palmas&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Las Palmas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Las Palmas, Canary Islands&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">28.1248</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">15.4300</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Atlantic/Canary&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Canary Islands, subtropical Atlantic research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_ponta_delgada&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ponta Delgada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ponta Delgada, Azores&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">37.7412</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">25.6756</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Atlantic/Azores&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Azores, mid-Atlantic research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_funchal&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Funchal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Funchal, Madeira&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">32.6669</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">16.9241</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Atlantic/Madeira&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Madeira, subtropical Atlantic operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># African Research Ports</span>
    <span class="s2">&quot;port_mindelo&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Mindelo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Mindelo, Cape Verde&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">16.8864</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">24.9811</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Atlantic/Cape_Verde&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Cape Verde, tropical Atlantic research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_walvis_bay&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Walvis Bay&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Walvis Bay, Namibia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">22.9576</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">14.5052</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Africa/Windhoek&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Namibia, Benguela upwelling system&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_durban&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Durban&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Durban, South Africa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">29.8587</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">31.0218</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Africa/Johannesburg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;South Africa, Indian Ocean operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Canadian Research Ports</span>
    <span class="s2">&quot;port_halifax&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Halifax&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Halifax, Nova Scotia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">44.6488</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">63.5752</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Halifax&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Nova Scotia, North Atlantic research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_st_johns&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;St. John&#39;s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;St. John&#39;s, Newfoundland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">47.5615</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">52.7126</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/St_Johns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Newfoundland, Labrador Sea operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_vancouver&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Vancouver&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Vancouver, Canada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">49.2827</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">123.1207</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Vancouver&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;British Columbia, North Pacific research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># US Research Ports</span>
    <span class="s2">&quot;port_woods_hole&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Woods Hole&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Woods Hole, Massachusetts&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">41.5265</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">70.6712</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/New_York&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Massachusetts, major oceanographic center&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_san_diego&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;San Diego&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;San Diego, California&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">32.7157</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">117.1611</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Los_Angeles&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;California, Pacific research operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_astoria&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Astoria&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Astoria, Oregon&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">46.1879</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">123.8313</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Los_Angeles&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Oregon, Pacific Northwest research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_honolulu&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Honolulu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Honolulu, Hawaii&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">21.3099</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">157.8581</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Pacific/Honolulu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Hawaii, central Pacific research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Central American Research Ports</span>
    <span class="s2">&quot;port_ensenada&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ensenada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ensenada, Mexico&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">31.8444</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">116.6197</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Tijuana&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Baja California, eastern Pacific research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_balboa&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Balboa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Balboa, Panama&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">8.9823</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">79.5661</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Panama&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Panama, Pacific-Caribbean operations&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Caribbean Research Ports</span>
    <span class="s2">&quot;port_bridgetown&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bridgetown&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bridgetown, Barbados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">13.1939</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">59.6161</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Barbados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Barbados, Caribbean research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># South American Research Ports</span>
    <span class="s2">&quot;port_rio_de_janeiro&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Rio de Janeiro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Rio de Janeiro, Brazil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">22.9068</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">43.1729</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Sao_Paulo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Brazil, South Atlantic research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_fortaleza&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fortaleza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fortaleza, Brazil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">3.7172</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">38.5433</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Fortaleza&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Brazil northeast, equatorial Atlantic&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_belem&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Belem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Belem, Brazil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.4558</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">48.5044</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Belem&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Brazil, Amazon outflow studies&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_recife&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Recife&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Recife, Brazil&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">8.0476</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">34.8770</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Recife&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Brazil, tropical Atlantic research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_antofagasta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Antofagasta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Antofagasta, Chile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">23.6509</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">70.3975</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;America/Santiago&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Chile, Humboldt current research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Indian Ocean Research Ports</span>
    <span class="s2">&quot;port_port_louis_mauritius&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Port Louis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Port Louis, Mauritius&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">20.1654</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">57.5074</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Indian/Mauritius&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Mauritius, western Indian Ocean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_la_reunion&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;La Reunion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;La Reunion, France&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">21.1151</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">55.5364</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Indian/Reunion&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Reunion, southwestern Indian Ocean&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_port_louis_seychelles&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Port Louis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Port Louis, Seychelles&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.6796</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">55.5274</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Indian/Mahe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Seychelles, equatorial Indian Ocean&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_colombo&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Colombo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Colombo, Sri Lanka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">6.9271</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">79.8612</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Colombo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Sri Lanka, northern Indian Ocean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_singapore&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Singapore&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Singapore&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">1.3521</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">103.8198</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Singapore&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Singapore, Southeast Asian research hub&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Pacific Research Ports</span>
    <span class="s2">&quot;port_yokohama&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Yokohama&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Yokohama, Japan&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">35.4437</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">139.6380</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Tokyo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Japan, western Pacific research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_fremantle&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fremantle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fremantle, Australia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">32.0569</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">115.7439</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Australia/Perth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Western Australia, Indian Ocean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_wellington&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wellington&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wellington, New Zealand&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">41.2865</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">174.7762</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Pacific/Auckland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;New Zealand, Southern Ocean research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_auckland&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Auckland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Auckland, New Zealand&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">36.8485</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">174.7633</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Pacific/Auckland&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;New Zealand, Southwest Pacific research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;port_papeete&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Papeete&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Papeete, Tahiti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">17.5516</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">149.5585</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;Pacific/Tahiti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;French Polynesia, central Pacific research&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1"># Default/Update Port for Station Picker</span>
    <span class="s2">&quot;port_update&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Reykjavik (DEFAULT in stations.yaml)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Update Port - Please Replace&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">64.1466</span><span class="p">,</span>
        <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">21.9426</span><span class="p">,</span>
        <span class="s2">&quot;timezone&quot;</span><span class="p">:</span> <span class="s2">&quot;GMT+0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Default port for station picker - update with actual ports&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>


<div class="viewcode-block" id="resolve_port_reference">
<a class="viewcode-back" href="../../../api/cruiseplan.utils.html#cruiseplan.utils.global_ports.resolve_port_reference">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">resolve_port_reference</span><span class="p">(</span>
    <span class="n">port_ref</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resolve a port reference to a complete PortDefinition object.</span>

<span class="sd">    Handles three types of input:</span>
<span class="sd">    1. String reference to global port registry (e.g., &#39;port_reykjavik&#39;)</span>
<span class="sd">    2. Dictionary with port data (user-defined override)</span>
<span class="sd">    3. Already instantiated PortDefinition object</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    port_ref</span>
<span class="sd">        Port reference to resolve.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    PortDefinition</span>
<span class="sd">        Complete port definition object.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If string reference is not found in global registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Import locally to avoid circular dependency</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">cruiseplan.core.validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortDefinition</span>

    <span class="c1"># If already a PortDefinition object, return as-is</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="n">PortDefinition</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">port_ref</span>

    <span class="c1"># Handle any port-like object (for compatibility)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">hasattr</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span>
        <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">)</span>
        <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">port_ref</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># User-defined port override</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PortDefinition</span><span class="p">(</span><span class="o">**</span><span class="n">port_ref</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Convert Pydantic validation error to more user-friendly message</span>
            <span class="n">missing_fields</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">errors</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">error</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;missing&quot;</span><span class="p">:</span>
                    <span class="n">missing_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">missing_fields</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Port dictionary missing required fields: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_fields</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Re-raise original validation error for other types of validation issues</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port_ref</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port_ref</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;port_&quot;</span><span class="p">):</span>
            <span class="c1"># Global port reference</span>
            <span class="n">port_key</span> <span class="o">=</span> <span class="n">port_ref</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">port_key</span> <span class="ow">in</span> <span class="n">GLOBAL_PORTS</span><span class="p">:</span>
                <span class="n">port_data</span> <span class="o">=</span> <span class="n">GLOBAL_PORTS</span><span class="p">[</span><span class="n">port_key</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">PortDefinition</span><span class="p">(</span><span class="o">**</span><span class="n">port_data</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">available_ports</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">GLOBAL_PORTS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Port reference &#39;</span><span class="si">{</span><span class="n">port_ref</span><span class="si">}</span><span class="s2">&#39; not found in global registry. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Available ports: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">available_ports</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Simple string port name (backward compatibility)</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Port reference &#39;</span><span class="si">{</span><span class="n">port_ref</span><span class="si">}</span><span class="s2">&#39; should use &#39;port_&#39; prefix for global ports &quot;</span>
                <span class="s2">&quot;or be defined as a complete PortDefinition. &quot;</span>
                <span class="s2">&quot;Creating basic port with name only.&quot;</span><span class="p">,</span>
                <span class="ne">UserWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">PortDefinition</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">port_ref</span><span class="p">,</span>
                <span class="n">latitude</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>  <span class="c1"># Placeholder - needs enrichment</span>
                <span class="n">longitude</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>  <span class="c1"># Placeholder - needs enrichment</span>
                <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Basic port &#39;</span><span class="si">{</span><span class="n">port_ref</span><span class="si">}</span><span class="s2">&#39; - coordinates need enrichment&quot;</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid port reference type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">port_ref</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="get_available_ports">
<a class="viewcode-back" href="../../../api/cruiseplan.utils.html#cruiseplan.utils.global_ports.get_available_ports">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">get_available_ports</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a dictionary of available global ports with descriptions.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict[str, str]</span>
<span class="sd">        Mapping of port identifiers to descriptions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">port_id</span><span class="p">:</span> <span class="n">port_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Port: </span><span class="si">{</span><span class="n">port_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">port_id</span><span class="p">,</span> <span class="n">port_data</span> <span class="ow">in</span> <span class="n">GLOBAL_PORTS</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span></div>



<div class="viewcode-block" id="add_custom_port">
<a class="viewcode-back" href="../../../api/cruiseplan.utils.html#cruiseplan.utils.global_ports.add_custom_port">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">add_custom_port</span><span class="p">(</span><span class="n">port_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a custom port to the global registry at runtime.</span>

<span class="sd">    Useful for adding project-specific ports that aren&#39;t in the default registry.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    port_id : str</span>
<span class="sd">        Port identifier (should start with &#39;port_&#39;).</span>
<span class="sd">    port_data : dict</span>
<span class="sd">        Port data dictionary with required fields (name, latitude, longitude).</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If port_id doesn&#39;t follow naming convention or required fields are missing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">port_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;port_&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Custom port IDs must start with &#39;port_&#39; prefix&quot;</span><span class="p">)</span>

    <span class="n">required_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">]</span>
    <span class="n">missing_fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">field</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">required_fields</span> <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">port_data</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">missing_fields</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Port data missing required fields: </span><span class="si">{</span><span class="n">missing_fields</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Validate the port data by creating a PortDefinition</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">cruiseplan.core.validation</span><span class="w"> </span><span class="kn">import</span> <span class="n">PortDefinition</span>

        <span class="n">PortDefinition</span><span class="p">(</span><span class="o">**</span><span class="n">port_data</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid port data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="n">GLOBAL_PORTS</span><span class="p">[</span><span class="n">port_id</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">port_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>



<div class="viewcode-block" id="list_ports_in_region">
<a class="viewcode-back" href="../../../api/cruiseplan.utils.html#cruiseplan.utils.global_ports.list_ports_in_region">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">list_ports_in_region</span><span class="p">(</span>
    <span class="n">min_lat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">max_lat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">min_lon</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">max_lon</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List ports within a geographic bounding box.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    min_lat, max_lat : float</span>
<span class="sd">        Latitude bounds in degrees.</span>
<span class="sd">    min_lon, max_lon : float</span>
<span class="sd">        Longitude bounds in degrees.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict[str, str]</span>
<span class="sd">        Mapping of port identifiers to names for ports in the region.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">regional_ports</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">port_id</span><span class="p">,</span> <span class="n">port_data</span> <span class="ow">in</span> <span class="n">GLOBAL_PORTS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">port_data</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">]</span>
        <span class="n">lon</span> <span class="o">=</span> <span class="n">port_data</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">min_lat</span> <span class="o">&lt;=</span> <span class="n">lat</span> <span class="o">&lt;=</span> <span class="n">max_lat</span> <span class="ow">and</span> <span class="n">min_lon</span> <span class="o">&lt;=</span> <span class="n">lon</span> <span class="o">&lt;=</span> <span class="n">max_lon</span><span class="p">:</span>
            <span class="n">regional_ports</span><span class="p">[</span><span class="n">port_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">port_data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">regional_ports</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
# Example demonstrating new maritime architecture with global port system
# Shows both global port references and custom port definitions

cruise_name: "Arctic Ocean Research Expedition 2025"
calculate_transfer_between_sections: true # default added by cruiseplan enrich
calculate_depth_via_bathymetry: true # default added by cruiseplan enrich
start_date: '1970-01-01T00:00:00+00:00' # default added by cruiseplan enrich
description: "Multi-leg Arctic research cruise demonstrating maritime-correct architecture"

# Global parameters inheritable to legs
default_vessel_speed: 8.0  # knots
default_distance_between_stations: 25.0  # km  
turnaround_time: 45.0  # minutes



# Global port definitions (for ports not in the registry)
ports:
  - name: "Ny_Alesund"
    latitude: 78.9251
    longitude: 11.9393
    timezone: "GMT+1"
    description: "Svalbard research station"

# Station catalog with new depth semantics
stations:
  - name: "CTD_001"
    latitude: 71.0
    longitude: 8.0
    operation_type: CTD
    action: profile
    operation_depth: 1000.0  # Cast to 1000m
    water_depth: 2500.0      # Seafloor at 2500m
  - name: "CTD_002"
    latitude: 73.0
    longitude: 5.0
    operation_type: CTD
    action: profile
    operation_depth: 500.0   # Shallow cast
    water_depth: 1800.0      # Seafloor at 1800m
  - name: "MOORING_001"
    latitude: 75.0
    longitude: 10.0
    operation_type: mooring
    duration: 59940.0  # default added by cruiseplan enrich
    action: "deployment"
    water_depth: 3000.0      # Mooring anchored at seafloor
  - name: "MOORING_002"
    latitude: 77.0
    longitude: 12.0
    operation_type: mooring
    duration: 59940.0  # default added by cruiseplan enrich
    action: "recovery"
    water_depth: 2800.0

  - name: "MOORING_003"
    latitude: 76.0
    longitude: 15.0
    operation_type: mooring
    duration: 59940.0  # default added by cruiseplan enrich
    action: "deployment"
    water_depth: 3200.0

# Maritime leg definitions (port-to-port segments)
legs:
  - name: "Leg_1_Arctic_Entry"
    description: "Transit to Arctic and initial CTD survey"
    departure_port: "port_tromso"     # Global port reference
    arrival_port: "Ny_Alesund"       # Custom port reference
    vessel_speed: 10.0                # Override cruise default
    first_station: "CTD_001"
    last_station: "CTD_002"

    # Activities-based organization 
    activities:
      - name: "CTD_001"
        type: "station"
      - name: "CTD_002"
        type: "station"

    # Cluster for flexible scheduling
    clusters:
      - name: "CTD_Survey_Cluster"
        description: "CTD operations with flexible ordering for weather"
        strategy: "sequential"
        ordered: false  # Allow reordering for weather
        activities:
          - name: "CTD_001"
            type: "station"
          - name: "CTD_002"
            type: "station"

  - name: "Leg_2_Deep_Arctic"
    description: "Deep Arctic mooring operations"
    departure_port: "Ny_Alesund"     # Custom port
    arrival_port: "port_reykjavik"   # Global port reference
    vessel_speed: 6.0                # Slower for mooring ops
    distance_between_stations: 50.0  # Override cruise default
    buffer_time: 480.0               # 8h weather buffer
    first_station: "MOORING_001"
    last_station: "MOORING_003"

    # Activities with mixed operations
    activities:
      - name: "MOORING_001"
        type: "station"
      - name: "MOORING_002"
        type: "station"
      - name: "MOORING_003"
        type: "station"

    # Strict mooring sequence cluster
    clusters:
      - name: "Mooring_Operations"
        description: "Critical mooring sequence - strict order required"
        strategy: "sequential"
        ordered: true  # Maintain strict deployment order
        activities:
          - name: "MOORING_001"
            type: "station"
          - name: "MOORING_002"
            type: "station"
          - name: "MOORING_003"
            type: "station"

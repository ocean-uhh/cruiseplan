.. _output-html:

===========
HTML Output
===========

HTML format provides interactive web summaries ideal for cruise documentation, review, and sharing. The output includes embedded maps, detailed timelines, and operation summaries.

.. note::
   HTML output is only available from the **schedule command** (``cruiseplan schedule --format html``). For configuration-based visualization, use :doc:`png` output via the map command.

Purpose and Use Cases
======================

**Primary Uses**:
  - Cruise plan review and approval
  - Web-based documentation and sharing
  - Interactive timeline exploration
  - Visual cruise track verification

**Target Audiences**:
  - Principal Investigators and cruise leaders
  - Ship operations staff
  - Funding agency reviewers
  - Scientific collaborators

HTML Structure
==============

Generated HTML files include multiple sections:

**1. Executive Summary**
  - Cruise overview and statistics
  - Total duration, distance, and operation counts
  - Key ports and geographic coverage

**2. Interactive Map**
  - Embedded cruise track visualization
  - Station markers with operation details
  - Bathymetric background (if available)
  - Zoom and pan controls

**3. Detailed Timeline**
  - Operation-by-operation schedule
  - Arrival and departure times
  - Duration calculations and buffer times
  - Equipment and personnel requirements

**4. Operation Catalog**
  - Grouped by operation type (CTD, mooring, transit)
  - Technical specifications and requirements
  - Geographic coordinates and depths
  - Scientific objectives and methodologies

Features and Capabilities
=========================

Interactive Elements
--------------------

**Map Interactions**:
  - Click stations for detailed popups
  - Toggle different operation types
  - Measure distances and areas
  - Export map sections as images

**Timeline Navigation**:
  - Filter by operation type or leg
  - Sort by various criteria (time, location, type)
  - Search specific operations or locations
  - Export timeline sections

**Data Tables**:
  - Sortable columns
  - Filterable content
  - Exportable to CSV
  - Responsive design for mobile viewing

Visual Design
-------------

**Professional Styling**:
  - Clean, modern layout suitable for presentations
  - Consistent color scheme matching operation types
  - High-quality typography and spacing
  - Print-friendly CSS for hard copies

**Responsive Design**:
  - Mobile device compatibility
  - Tablet optimization
  - Desktop full-screen utilization
  - Accessible design meeting web standards

Technical Specifications
========================

File Structure
--------------

.. code-block:: html

   <!DOCTYPE html>
   <html lang="en">
   <head>
       <title>Arctic Survey 2024 - Cruise Schedule</title>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <!-- Embedded CSS and JavaScript -->
   </head>
   <body>
       <header>
           <h1>Cruise Schedule: Arctic Survey 2024</h1>
           <nav><!-- Navigation menu --></nav>
       </header>
       
       <main>
           <section id="summary"><!-- Executive summary --></section>
           <section id="map"><!-- Interactive map --></section>
           <section id="timeline"><!-- Detailed timeline --></section>
           <section id="catalog"><!-- Operation catalog --></section>
       </main>
       
       <footer>
           <p>Generated by CruisePlan {{ version }}</p>
       </footer>
   </body>
   </html>

Dependencies
------------

**Embedded Libraries**:
  - Leaflet.js for interactive mapping
  - Chart.js for timeline visualization
  - DataTables.js for sortable tables
  - Bootstrap CSS for responsive layout

**Map Data Sources**:
  - OpenStreetMap for base layers
  - Bathymetric contours from loaded datasets
  - Custom cruise track overlays

Generated Content Sections
===========================

Executive Summary
-----------------

.. code-block:: html

   <div class="cruise-summary">
       <h2>Arctic Survey 2024</h2>
       <div class="stats-grid">
           <div class="stat-box">
               <span class="number">52</span>
               <span class="label">Total Operations</span>
           </div>
           <div class="stat-box">
               <span class="number">15.2</span>
               <span class="label">Days at Sea</span>
           </div>
           <div class="stat-box">
               <span class="number">3,195</span>
               <span class="label">Total Distance (km)</span>
           </div>
       </div>
   </div>

Operation Timeline Table
------------------------

.. list-table:: Sample Timeline Table Structure
   :widths: 15 20 15 15 15 20
   :header-rows: 1

   * - **Date/Time**
     - **Operation**
     - **Type**
     - **Duration**
     - **Location**
     - **Notes**
   * - 2024-07-01 08:00
     - Depart Reykjavik
     - Transit
     - 6.2 hrs
     - 64.15째N, 21.94째W
     - To first station
   * - 2024-07-01 14:12
     - STN_001 CTD
     - CTD Profile
     - 2.8 hrs
     - 62.33째N, 25.17째W
     - 2,847m cast
   * - 2024-07-01 17:00
     - Transit to STN_002
     - Transit
     - 3.1 hrs
     - --
     - 45km @ 10kts

Interactive Map Features
------------------------

**Station Markers**:
  - Color-coded by operation type
  - Size proportional to duration
  - Click for detailed popup information
  - Hover for quick summary

**Track Lines**:
  - Vessel route between operations
  - Different styles for scientific vs transit legs
  - Distance and bearing annotations
  - Editable waypoints for planning updates

Customization Options
=====================

Styling Customization
--------------------

**CSS Variables**:
  - Primary and secondary color schemes
  - Font family and size preferences
  - Map marker styles and sizes
  - Table row and column styling

**Layout Options**:
  - Single-page vs multi-section layout
  - Map position (top, side, embedded)
  - Timeline format (table vs Gantt chart)
  - Summary panel configuration

Content Filtering
-----------------

**Operation Type Filters**:
  - Show/hide specific operation types
  - Filter by leg or time period
  - Search by station name or coordinates
  - Export filtered results

**Detail Level Options**:
  - Summary view for executives
  - Detailed view for operational staff
  - Scientific view with technical parameters
  - Navigation view with essential routing info

Export and Sharing
==================

Web Publishing
--------------

**Standalone File**:
  - Single HTML file with embedded assets
  - No external dependencies required
  - Suitable for email distribution
  - Compatible with web servers and file shares

**Integration Options**:
  - Embeddable in project websites
  - Compatible with cruise planning portals
  - Integration with vessel management systems
  - API endpoints for dynamic updates

Print and PDF Export
--------------------

**Print Optimization**:
  - Print-specific CSS for clean hard copies
  - Page break optimization
  - High-contrast mode for black and white printing
  - Scalable vector graphics for crisp output

**PDF Generation**:
  - Browser-based PDF export
  - Consistent formatting across platforms
  - Embedded fonts and images
  - Bookmarks for easy navigation

Best Practices
==============

File Management
---------------

**Naming Conventions**:
  - Use descriptive cruise names in filenames
  - Include date stamps for version control
  - Organize by project or expedition
  - Maintain backup copies of source configurations

**Version Control**:
  - Document configuration changes
  - Archive previous HTML versions
  - Track review and approval status
  - Maintain change logs for updates

Usage Recommendations
--------------------

**For Proposal Preparation**:
  - Generate HTML for initial review and feedback
  - Use interactive features to verify station positions
  - Export specific sections for proposal documents
  - Share with collaborators for input and approval

**For Operational Planning**:
  - Distribute to ship operations staff
  - Provide to scientific party members
  - Post on vessel bulletin boards or digital displays
  - Use for pre-cruise briefings and training

The HTML output format provides a comprehensive, interactive overview of cruise plans that serves multiple audiences and use cases throughout the cruise planning and execution process.
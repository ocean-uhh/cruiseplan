

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Runtime Classes &mdash; CruisePlan v0.3.5 v0.3.5.post1.dev1</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=393fce2e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5cb7d5ba"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Timeline &amp; Scheduling" href="cruiseplan.timeline.html" />
    <link rel="prev" title="Output formats" href="cruiseplan.output.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CruisePlan v0.3.5
              <img src="../_static/cruise_plan_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/yaml-basics.html">YAML Basics</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/cli-commands.html">CLI Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/yaml-full.html">YAML Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/output-formats.html">Output Formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../advanced/api-examples.html">API Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo-output.html">CruisePlan Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/developer_guide.html">CruisePlan Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/manual_testing.html">Manual Testing and Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/manual_testing.html#development-workflow-integration">Development Workflow Integration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.api.html">API Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.cli.html">Command-line-interface (CLI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.config.html">Configuration &amp; Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.data.html">Data - Bathymetry &amp; Pangaea</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.interactive.html">Interactive pickers</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.output.html">Output formats</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Runtime Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-cruiseplan.runtime.cruise">cruiseplan.runtime.cruise module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance"><code class="docutils literal notranslate"><span class="pre">CruiseInstance</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-cruiseplan.runtime.organizational">cruiseplan.runtime.organizational module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit"><code class="docutils literal notranslate"><span class="pre">BaseOrganizationUnit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster"><code class="docutils literal notranslate"><span class="pre">Cluster</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.organizational.Leg"><code class="docutils literal notranslate"><span class="pre">Leg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.organizational.ReferenceError"><code class="docutils literal notranslate"><span class="pre">ReferenceError</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-cruiseplan.runtime.operations">cruiseplan.runtime.operations module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.operations.AreaOperation"><code class="docutils literal notranslate"><span class="pre">AreaOperation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation"><code class="docutils literal notranslate"><span class="pre">BaseOperation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.operations.LineOperation"><code class="docutils literal notranslate"><span class="pre">LineOperation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.operations.PointOperation"><code class="docutils literal notranslate"><span class="pre">PointOperation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-cruiseplan.runtime.enrichment">cruiseplan.runtime.enrichment module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.enrichment.add_coordinate_displays"><code class="docutils literal notranslate"><span class="pre">add_coordinate_displays()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.enrichment.add_station_defaults"><code class="docutils literal notranslate"><span class="pre">add_station_defaults()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.enrichment.enrich_depths"><code class="docutils literal notranslate"><span class="pre">enrich_depths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.enrichment.expand_ports"><code class="docutils literal notranslate"><span class="pre">expand_ports()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.enrichment.expand_sections"><code class="docutils literal notranslate"><span class="pre">expand_sections()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-cruiseplan.runtime.serialization">cruiseplan.runtime.serialization module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.deserialize_inline_definition"><code class="docutils literal notranslate"><span class="pre">deserialize_inline_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_area_definition"><code class="docutils literal notranslate"><span class="pre">serialize_area_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_cluster_definition"><code class="docutils literal notranslate"><span class="pre">serialize_cluster_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_definition"><code class="docutils literal notranslate"><span class="pre">serialize_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_leg_definition"><code class="docutils literal notranslate"><span class="pre">serialize_leg_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_line_definition"><code class="docutils literal notranslate"><span class="pre">serialize_line_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.serialize_point_definition"><code class="docutils literal notranslate"><span class="pre">serialize_point_definition()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.to_commented_dict"><code class="docutils literal notranslate"><span class="pre">to_commented_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cruiseplan.runtime.serialization.to_yaml"><code class="docutils literal notranslate"><span class="pre">to_yaml()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cruiseplan-runtime-validation-module">cruiseplan.runtime.validation module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.timeline.html">Timeline &amp; Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="cruiseplan.utils.html">General Utilities</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CruisePlan v0.3.5</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">CruisePlan API</a></li>
      <li class="breadcrumb-item active">Runtime Classes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="runtime-classes">
<h1>Runtime Classes<a class="headerlink" href="#runtime-classes" title="Link to this heading"></a></h1>
<p>Business logic and data processing for cruise planning.</p>
<p id="module-cruiseplan.runtime">cruiseplan.core package.</p>
<p>This package contains the core classes and logic for cruise planning:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Cruise</span></code>: Main container for cruise configuration, validation, and data management</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Leg</span></code>: Represents discrete working areas or time periods in a cruise</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperation</span></code>: Base class for individual cruise operations</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code>: Container for operation boundary management and reordering</p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">validation</span></code>: Pydantic models and validation schemas for cruise data</p></li>
</ul>
<p>The core package provides the fundamental building blocks for defining and managing
oceanographic cruise plans, including station definitions, transit routes, and
operational sequences.</p>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-cruiseplan.runtime.cruise">
<span id="cruiseplan-runtime-cruise-module"></span><h2>cruiseplan.runtime.cruise module<a class="headerlink" href="#module-cruiseplan.runtime.cruise" title="Link to this heading"></a></h2>
<p>Core cruise management and organizational runtime classes.</p>
<p>This module provides the main CruiseInstance class for loading, validating, and managing
cruise configurations from YAML files, along with the organizational runtime
classes (Leg, Cluster) that form the hierarchical structure for cruise execution.
The BaseOrganizationUnit abstract base class provides the common interface for
all organizational units in the cruise planning hierarchy.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.cruise.</span></span><span class="sig-name descname"><span class="pre">CruiseInstance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The main container object for cruise planning.</p>
<p>Responsible for parsing YAML configuration files, validating the schema
using Pydantic models, and resolving string references to full objects
from the catalog registries.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.config_path">
<span class="sig-name descname"><span class="pre">config_path</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.config_path" title="Link to this definition"></a></dt>
<dd><p>Absolute path to the configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.raw_data">
<span class="sig-name descname"><span class="pre">raw_data</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.raw_data" title="Link to this definition"></a></dt>
<dd><p>Raw dictionary data loaded from the YAML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.config" title="Link to this definition"></a></dt>
<dd><p>Validated Pydantic configuration object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.CruiseConfig" title="cruiseplan.config.cruise_config.CruiseConfig">CruiseConfig</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.point_registry">
<span class="sig-name descname"><span class="pre">point_registry</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.point_registry" title="Link to this definition"></a></dt>
<dd><p>Dictionary mapping point names to PointDefinition objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition">PointDefinition</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.line_registry">
<span class="sig-name descname"><span class="pre">line_registry</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.line_registry" title="Link to this definition"></a></dt>
<dd><p>Dictionary mapping line names to LineDefinition objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition">LineDefinition</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.port_registry">
<span class="sig-name descname"><span class="pre">port_registry</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.port_registry" title="Link to this definition"></a></dt>
<dd><p>Dictionary mapping port names to PointDefinition objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition">PointDefinition</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.area_registry">
<span class="sig-name descname"><span class="pre">area_registry</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.area_registry" title="Link to this definition"></a></dt>
<dd><p>Dictionary mapping area names to AreaDefinition objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition">AreaDefinition</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.runtime_legs">
<span class="sig-name descname"><span class="pre">runtime_legs</span></span><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.runtime_legs" title="Link to this definition"></a></dt>
<dd><p>List of runtime Leg objects converted from LegDefinition objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#cruiseplan.runtime.organizational.Leg" title="cruiseplan.runtime.organizational.Leg">Leg</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a CruiseInstance object from a YAML configuration file.</p>
<p>Performs three main operations:
1. Loads and validates the YAML configuration using Pydantic
2. Builds registries for points and lines
3. Resolves string references to full objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to the YAML configuration file containing cruise definition.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – If the configuration file does not exist.</p></li>
<li><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.yaml_io.YAMLIOError" title="cruiseplan.config.yaml_io.YAMLIOError"><strong>YAMLIOError</strong></a> – If the YAML file cannot be parsed.</p></li>
<li><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.exceptions.ValidationError" title="cruiseplan.config.exceptions.ValidationError"><strong>ValidationError</strong></a> – If the configuration does not match the expected schema.</p></li>
<li><p><a class="reference internal" href="#cruiseplan.runtime.organizational.ReferenceError" title="cruiseplan.runtime.organizational.ReferenceError"><strong>ReferenceError</strong></a> – If referenced points or lines are not found in the catalog.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.add_coordinate_displays">
<span class="sig-name descname"><span class="pre">add_coordinate_displays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ddm'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.add_coordinate_displays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.add_coordinate_displays" title="Link to this definition"></a></dt>
<dd><p>Add human-readable coordinate display fields for final YAML output.</p>
<p>This method adds formatted coordinate annotations that will appear in
the YAML output but don’t affect the core cruise data. This is for
display enhancement only.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coord_format</strong> (<em>str</em><em>, </em><em>optional</em>) – Coordinate format to use for display. Default is “ddm”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of coordinate display fields added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.add_station_defaults">
<span class="sig-name descname"><span class="pre">add_station_defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.add_station_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.add_station_defaults" title="Link to this definition"></a></dt>
<dd><p>Add missing defaults to station definitions.</p>
<p>This method adds default duration to mooring operations and other stations
that lack required default values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of station defaults added.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.enrich_depths">
<span class="sig-name descname"><span class="pre">enrich_depths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bathymetry_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'etopo2022'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.enrich_depths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.enrich_depths" title="Link to this definition"></a></dt>
<dd><p>Add bathymetry depths to stations that are missing water_depth values.</p>
<p>This method modifies the point_registry directly by adding water depth
information from bathymetry datasets to stations that don’t have depth
values or have placeholder values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bathymetry_source</strong> (<em>str</em><em>, </em><em>optional</em>) – Bathymetry dataset to use. Default is “etopo2022”.</p></li>
<li><p><strong>bathymetry_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – Directory containing bathymetry data. Default is “data”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of station names that had depths added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.expand_ports">
<span class="sig-name descname"><span class="pre">expand_ports</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.expand_ports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.expand_ports" title="Link to this definition"></a></dt>
<dd><p>Expand global port references into full PortDefinition objects.</p>
<p>This method finds string port references and expands them into full
PortDefinition objects with coordinates and other metadata from the
global ports database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with expansion summary:
- ports_expanded: Number of global ports expanded
- leg_ports_expanded: Number of leg ports expanded</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.expand_sections">
<span class="sig-name descname"><span class="pre">expand_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-9999.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.expand_sections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.expand_sections" title="Link to this definition"></a></dt>
<dd><p>Expand CTD sections into individual station definitions.</p>
<p>This method finds CTD sections in lines catalog and expands them into
individual stations, adding them to the point_registry. This is structural
enrichment that modifies the cruise configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>default_depth</strong> (<em>float</em><em>, </em><em>optional</em>) – Default depth value for expanded stations. Default is -9999.0.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with expansion summary:
- sections_expanded: Number of sections expanded
- stations_from_expansion: Number of stations created</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.from_dict">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.from_dict" title="Link to this definition"></a></dt>
<dd><p>Create a CruiseInstance from a dictionary without file I/O.</p>
<p>This class method provides single source of truth functionality by creating
a CruiseInstance object directly from a configuration dictionary, eliminating the
need for temporary file creation during enrichment operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary containing cruise configuration data (e.g., from YAML parsing).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New CruiseInstance with all registries built and references resolved.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance">CruiseInstance</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.exceptions.ValidationError" title="cruiseplan.config.exceptions.ValidationError"><strong>ValidationError</strong></a> – If the configuration does not match the expected schema.</p></li>
<li><p><a class="reference internal" href="#cruiseplan.runtime.organizational.ReferenceError" title="cruiseplan.runtime.organizational.ReferenceError"><strong>ReferenceError</strong></a> – If referenced points or lines are not found in the catalog.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;cruise_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test Cruise&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;default_vessel_speed&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;P1&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">60.0</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">}],</span>
<span class="gp">... </span>    <span class="s2">&quot;legs&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Leg1&quot;</span><span class="p">,</span> <span class="s2">&quot;departure_port&quot;</span><span class="p">:</span> <span class="s2">&quot;Bergen&quot;</span><span class="p">,</span> <span class="s2">&quot;arrival_port&quot;</span><span class="p">:</span> <span class="s2">&quot;Tromsø&quot;</span><span class="p">}]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cruise</span> <span class="o">=</span> <span class="n">CruiseInstance</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cruise</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">cruise_name</span>
<span class="go">&#39;Test Cruise&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.to_commented_dict">
<span class="sig-name descname"><span class="pre">to_commented_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.to_commented_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.to_commented_dict" title="Link to this definition"></a></dt>
<dd><p>Export CruiseInstance configuration to a structured dictionary with comment preservation.</p>
<p>This method provides the foundation for YAML output with canonical field
ordering and comment preservation capabilities. Returns a dictionary that
can be processed by ruamel.yaml for structured output with comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with canonical field ordering suitable for YAML export
with comment preservation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The output dictionary follows canonical ordering:
1. Cruise Metadata (cruise_name, description, start_date, start_time)
2. Vessel Parameters (default_vessel_speed, turnaround_time, etc.)
3. Calculation Settings (calculate_*, day_start_hour, etc.)
4. Catalog Definitions (points, lines, areas, ports)
5. Schedule Organization (legs)</p>
<p>Comment preservation is handled at the YAML layer using ruamel.yaml
with end-of-line and section header comment support.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.cruise.CruiseInstance.to_yaml">
<span class="sig-name descname"><span class="pre">to_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enrichment_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/cruise.html#CruiseInstance.to_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.cruise.CruiseInstance.to_yaml" title="Link to this definition"></a></dt>
<dd><p>Export CruiseInstance configuration to YAML file with canonical ordering.</p>
<p>This method provides direct YAML export capability with standardized
field ordering and basic comment preservation. Uses ruamel.yaml for
structured output that maintains readability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path where the YAML file should be written.</p></li>
<li><p><strong>enrichment_command</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The enrichment command that was used to create this file, for documentation.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – If the output file cannot be written.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cruise</span> <span class="o">=</span> <span class="n">CruiseInstance</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">config_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cruise</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="s2">&quot;enhanced_cruise.yaml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The exported YAML follows canonical field ordering and includes
section comments for improved readability. This replaces the need
for dual state management during enrichment operations.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cruiseplan.runtime.organizational">
<span id="cruiseplan-runtime-organizational-module"></span><h2>cruiseplan.runtime.organizational module<a class="headerlink" href="#module-cruiseplan.runtime.organizational" title="Link to this heading"></a></h2>
<p>Organizational unit classes for cruise planning.</p>
<p>This module contains the hierarchical organizational classes (BaseOrganizationUnit,
Cluster, Leg) that form the structural framework for cruise execution and scheduling.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.organizational.</span></span><span class="sig-name descname"><span class="pre">BaseOrganizationUnit</span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract base class for organizational units in cruise planning.</p>
<p>Provides common interface for hierarchical organization units (Leg, Cluster)
that can contain operations and support parameter inheritance, boundary
management, and geographic routing.</p>
<p>All organizational units share common capabilities:
- Entry/exit point management for routing
- Operation counting and duration calculation
- Parameter inheritance from parent units
- Reordering policies for scheduling flexibility</p>
<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit.allows_reordering">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">allows_reordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit.allows_reordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit.allows_reordering" title="Link to this definition"></a></dt>
<dd><p>Check if this unit allows operation reordering.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit.get_all_operations">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_all_operations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit.get_all_operations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit.get_all_operations" title="Link to this definition"></a></dt>
<dd><p>Get all operations within this organizational unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit.get_entry_point">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get geographic entry point for this unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit.get_exit_point">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get geographic exit point for this unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.BaseOrganizationUnit.get_operation_count">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_operation_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#BaseOrganizationUnit.get_operation_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit.get_operation_count" title="Link to this definition"></a></dt>
<dd><p>Get total number of operations in this unit.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.organizational.</span></span><span class="sig-name descname"><span class="pre">Cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><span class="pre">StrategyEnum</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StrategyEnum.SEQUENTIAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit" title="cruiseplan.runtime.organizational.BaseOrganizationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOrganizationUnit</span></code></a></p>
<p>Runtime container for operation boundary management during scheduling.</p>
<p>Clusters define boundaries for operation shuffling/reordering. Operations within
a cluster can be reordered according to the cluster’s strategy, but cannot be
mixed with operations from other clusters or the parent leg.</p>
<p>This provides scientific flexibility (weather-dependent reordering) while
maintaining operational safety (critical sequences protected).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.name" title="Link to this definition"></a></dt>
<dd><p>Unique identifier for this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.description">
<span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.description" title="Link to this definition"></a></dt>
<dd><p>Human-readable description of the cluster’s purpose.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.strategy">
<span class="sig-name descname"><span class="pre">strategy</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.strategy" title="Link to this definition"></a></dt>
<dd><p>Scheduling strategy for operations within this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum">StrategyEnum</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.ordered">
<span class="sig-name descname"><span class="pre">ordered</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.ordered" title="Link to this definition"></a></dt>
<dd><p>Whether operations should maintain their defined order.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.operations">
<span class="sig-name descname"><span class="pre">operations</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.operations" title="Link to this definition"></a></dt>
<dd><p>List of operations contained within this cluster boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation">BaseOperation</a>]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Weather-flexible CTD cluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctd_cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CTD_Survey&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;CTD operations that can be reordered for weather&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">strategy</span><span class="o">=</span><span class="n">StrategyEnum</span><span class="o">.</span><span class="n">SEQUENTIAL</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ordered</span><span class="o">=</span><span class="kc">False</span>  <span class="c1"># Allow weather-based reordering</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Critical mooring sequence cluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mooring_cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Mooring_Deployment&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Critical mooring sequence - strict order required&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">strategy</span><span class="o">=</span><span class="n">StrategyEnum</span><span class="o">.</span><span class="n">SEQUENTIAL</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span>  <span class="c1"># Maintain deployment order for safety</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><span class="pre">StrategyEnum</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StrategyEnum.SEQUENTIAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Cluster with the specified parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this cluster.</p></li>
<li><p><strong>description</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Human-readable description of the cluster’s purpose.</p></li>
<li><p><strong>strategy</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><em>StrategyEnum</em></a><em>, </em><em>optional</em>) – Scheduling strategy for operations within this cluster.
Default is StrategyEnum.SEQUENTIAL.</p></li>
<li><p><strong>ordered</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether operations should maintain their defined order.
Default is True (strict ordering).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.__repr__" title="Link to this definition"></a></dt>
<dd><p>String representation for debugging.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.__str__" title="Link to this definition"></a></dt>
<dd><p>Human-readable string representation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.add_operation">
<span class="sig-name descname"><span class="pre">add_operation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.add_operation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.add_operation" title="Link to this definition"></a></dt>
<dd><p>Add an operation to this cluster.</p>
<p>The operation is added to the end of the cluster’s operation list.
For ordered clusters, this determines the execution sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operation</strong> (<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><em>BaseOperation</em></a>) – The operation to add to this cluster.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If operation with the same name already exists in cluster.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.allows_reordering">
<span class="sig-name descname"><span class="pre">allows_reordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.allows_reordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.allows_reordering" title="Link to this definition"></a></dt>
<dd><p>Check if this cluster allows operation reordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if operations can be reordered, False if strict order required.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.calculate_total_duration">
<span class="sig-name descname"><span class="pre">calculate_total_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.calculate_total_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.calculate_total_duration" title="Link to this definition"></a></dt>
<dd><p>Calculate total duration for all operations in this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules and parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total duration in hours for all operations in cluster.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.from_definition">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_def</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><span class="pre">ClusterDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster"><span class="pre">Cluster</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.from_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.from_definition" title="Link to this definition"></a></dt>
<dd><p>Create a Cluster instance from a ClusterDefinition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cluster_def</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><em>ClusterDefinition</em></a>) – The cluster definition to convert.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New Cluster instance with parameters from definition.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster">Cluster</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_all_operations">
<span class="sig-name descname"><span class="pre">get_all_operations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_all_operations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_all_operations" title="Link to this definition"></a></dt>
<dd><p>Get all operations within this cluster.</p>
<p>Returns operations in their current order. For ordered clusters,
this represents the required execution sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all operations in this cluster.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation">BaseOperation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_entry_point">
<span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get geographic entry point for this cluster.</p>
<p>Returns the coordinates of the first operation in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of entry point, or None if cluster is empty.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Tuple[float, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_exit_point">
<span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get geographic exit point for this cluster.</p>
<p>Returns the coordinates of the last operation in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of exit point, or None if cluster is empty.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Tuple[float, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_operation">
<span class="sig-name descname"><span class="pre">get_operation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_operation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_operation" title="Link to this definition"></a></dt>
<dd><p>Get an operation from this cluster by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operation_name</strong> (<em>str</em>) – Name of the operation to find.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The operation if found, None otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation">BaseOperation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_operation_count">
<span class="sig-name descname"><span class="pre">get_operation_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_operation_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_operation_count" title="Link to this definition"></a></dt>
<dd><p>Get total number of operations in this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of operations in this cluster.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.get_operation_names">
<span class="sig-name descname"><span class="pre">get_operation_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.get_operation_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.get_operation_names" title="Link to this definition"></a></dt>
<dd><p>Get names of all operations in this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of operation names in cluster order.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.is_empty">
<span class="sig-name descname"><span class="pre">is_empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.is_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.is_empty" title="Link to this definition"></a></dt>
<dd><p>Check if this cluster contains any operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if cluster has no operations, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Cluster.remove_operation">
<span class="sig-name descname"><span class="pre">remove_operation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Cluster.remove_operation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Cluster.remove_operation" title="Link to this definition"></a></dt>
<dd><p>Remove an operation from this cluster by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operation_name</strong> (<em>str</em>) – Name of the operation to remove.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if operation was found and removed, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.organizational.</span></span><span class="sig-name descname"><span class="pre">Leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><span class="pre">StrategyEnum</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StrategyEnum.SEQUENTIAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cruiseplan.runtime.organizational.BaseOrganizationUnit" title="cruiseplan.runtime.organizational.BaseOrganizationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOrganizationUnit</span></code></a></p>
<p>Port-to-port maritime leg container following nautical terminology.</p>
<p>A Leg represents a discrete maritime journey between two ports, containing
all scientific operations and clusters executed during that voyage segment.
This follows maritime tradition where a ‘leg’ always has departure and
arrival ports, providing clear operational boundaries.</p>
<p>The Leg manages parameter inheritance (from parent Cruise), cluster boundaries,
and port-to-port routing for realistic maritime scheduling.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.name" title="Link to this definition"></a></dt>
<dd><p>Unique identifier for this leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.description">
<span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.description" title="Link to this definition"></a></dt>
<dd><p>Optional human-readable description of the leg’s purpose.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.departure_port">
<span class="sig-name descname"><span class="pre">departure_port</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.departure_port" title="Link to this definition"></a></dt>
<dd><p>Required departure port for this maritime leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition">PointDefinition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.arrival_port">
<span class="sig-name descname"><span class="pre">arrival_port</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.arrival_port" title="Link to this definition"></a></dt>
<dd><p>Required arrival port for this maritime leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition">PointDefinition</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.strategy">
<span class="sig-name descname"><span class="pre">strategy</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.strategy" title="Link to this definition"></a></dt>
<dd><p>Execution strategy for operations (default: SEQUENTIAL).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum">StrategyEnum</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.ordered">
<span class="sig-name descname"><span class="pre">ordered</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.ordered" title="Link to this definition"></a></dt>
<dd><p>Whether operations should maintain their specified order (default: True).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.operations">
<span class="sig-name descname"><span class="pre">operations</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.operations" title="Link to this definition"></a></dt>
<dd><p>List of standalone operations (e.g., single CTD, single Transit).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation">BaseOperation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.clusters">
<span class="sig-name descname"><span class="pre">clusters</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.clusters" title="Link to this definition"></a></dt>
<dd><p>List of cluster boundaries for operation shuffling control.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster">Cluster</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.first_activity">
<span class="sig-name descname"><span class="pre">first_activity</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.first_activity" title="Link to this definition"></a></dt>
<dd><p>First waypoint/navigation marker for routing (not executed).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.last_activity">
<span class="sig-name descname"><span class="pre">last_activity</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.last_activity" title="Link to this definition"></a></dt>
<dd><p>Last waypoint/navigation marker for routing (not executed).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.vessel_speed">
<span class="sig-name descname"><span class="pre">vessel_speed</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.vessel_speed" title="Link to this definition"></a></dt>
<dd><p>Leg-specific vessel speed override (None uses cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.turnaround_time">
<span class="sig-name descname"><span class="pre">turnaround_time</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.turnaround_time" title="Link to this definition"></a></dt>
<dd><p>Leg-specific turnaround time override in minutes (None uses cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.distance_between_stations">
<span class="sig-name descname"><span class="pre">distance_between_stations</span></span><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.distance_between_stations" title="Link to this definition"></a></dt>
<dd><p>Leg-specific station spacing override (None uses cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[float]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Arctic research leg with weather-flexible clusters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leg</span> <span class="o">=</span> <span class="n">Leg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Arctic_Survey&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">departure_port</span><span class="o">=</span><span class="n">resolve_port_reference</span><span class="p">(</span><span class="s2">&quot;port_tromsoe&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">arrival_port</span><span class="o">=</span><span class="n">resolve_port_reference</span><span class="p">(</span><span class="s2">&quot;port_longyearbyen&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">vessel_speed</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span>  <span class="c1"># Faster speed for ice conditions</span>
<span class="gp">... </span>    <span class="n">turnaround_time</span><span class="o">=</span><span class="mf">45.0</span>  <span class="c1"># Extra time for Arctic operations</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><span class="pre">StrategyEnum</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StrategyEnum.SEQUENTIAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a maritime Leg with port-to-port structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this leg.</p></li>
<li><p><strong>departure_port</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a><em>, </em><em>dict</em><em>]</em>) – Required departure port (can be global reference, PointDefinition, or dict).</p></li>
<li><p><strong>arrival_port</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a><em>, </em><em>dict</em><em>]</em>) – Required arrival port (can be global reference, PointDefinition, or dict).</p></li>
<li><p><strong>description</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Human-readable description of the leg’s purpose.</p></li>
<li><p><strong>strategy</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.values.StrategyEnum" title="cruiseplan.config.values.StrategyEnum"><em>StrategyEnum</em></a><em>, </em><em>optional</em>) – Execution strategy for operations (default: SEQUENTIAL).</p></li>
<li><p><strong>ordered</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether operations should maintain their specified order (default: True).</p></li>
<li><p><strong>first_activity</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – First waypoint for navigation (not executed).</p></li>
<li><p><strong>last_activity</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Last waypoint for navigation (not executed).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.__repr__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.__repr__" title="Link to this definition"></a></dt>
<dd><p>String representation of the leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>String representation showing leg name, ports, and operation count.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.__str__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.__str__" title="Link to this definition"></a></dt>
<dd><p>Human-readable string representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Human-readable description of the leg with port-to-port information.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.add_cluster">
<span class="sig-name descname"><span class="pre">add_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster"><span class="pre">Cluster</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.add_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.add_cluster" title="Link to this definition"></a></dt>
<dd><p>Add a cluster boundary to this leg for operation shuffling control.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cluster</strong> (<a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster"><em>Cluster</em></a>) – The cluster boundary to add for operation reordering management.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.add_operation">
<span class="sig-name descname"><span class="pre">add_operation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.add_operation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.add_operation" title="Link to this definition"></a></dt>
<dd><p>Add a single, standalone operation to this leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operation</strong> (<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><em>BaseOperation</em></a>) – The operation to add (e.g., a single CTD cast or section).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.allows_reordering">
<span class="sig-name descname"><span class="pre">allows_reordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.allows_reordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.allows_reordering" title="Link to this definition"></a></dt>
<dd><p>Check if this leg allows operation reordering.</p>
<p>A leg allows reordering if it’s not strictly ordered or if any of its
clusters allow reordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if operations can be reordered within this leg, False if strict order required.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.calculate_total_duration_legacy">
<span class="sig-name descname"><span class="pre">calculate_total_duration_legacy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.calculate_total_duration_legacy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.calculate_total_duration_legacy" title="Link to this definition"></a></dt>
<dd><p>Calculate total duration for all operations in this leg.</p>
<p>Includes port transit time, standalone operations, and cluster
operations with proper boundary management.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules/parameters containing config.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total duration in minutes including all operations and port transits.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.from_definition">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_def</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><span class="pre">LegDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.organizational.Leg" title="cruiseplan.runtime.organizational.Leg"><span class="pre">Leg</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.from_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.from_definition" title="Link to this definition"></a></dt>
<dd><p>Create a Leg runtime instance from a LegDefinition.</p>
<p>This factory method converts a validated LegDefinition into a runtime Leg
with proper port-to-port structure and default cluster creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg_def</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><em>LegDefinition</em></a>) – Validated leg definition from YAML configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New Leg runtime instance with resolved ports and clusters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.organizational.Leg" title="cruiseplan.runtime.organizational.Leg">Leg</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_all_clusters">
<span class="sig-name descname"><span class="pre">get_all_clusters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster"><span class="pre">Cluster</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_all_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_all_clusters" title="Link to this definition"></a></dt>
<dd><p>Get all clusters within this leg for boundary management.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of all cluster boundaries within this leg.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="#cruiseplan.runtime.organizational.Cluster" title="cruiseplan.runtime.organizational.Cluster">Cluster</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_all_operations">
<span class="sig-name descname"><span class="pre">get_all_operations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><span class="pre">BaseOperation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_all_operations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_all_operations" title="Link to this definition"></a></dt>
<dd><p>Flatten all operations including those within cluster boundaries.</p>
<p>This provides a unified list of atomic operations for route optimization
that respects the Leg’s port-to-port boundaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Unified list containing both standalone operations and operations
from within cluster boundaries.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[<a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation">BaseOperation</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_boundary_waypoints">
<span class="sig-name descname"><span class="pre">get_boundary_waypoints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_boundary_waypoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_boundary_waypoints" title="Link to this definition"></a></dt>
<dd><p>Get the first and last waypoint boundaries for this leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of (first_activity, last_activity) for boundary management.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[Optional[str], Optional[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_entry_point">
<span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for this leg (departure port).</p>
<p>This provides a standardized interface regardless of internal field names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the leg’s entry point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_exit_point">
<span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for this leg (arrival port).</p>
<p>This provides a standardized interface regardless of internal field names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the leg’s exit point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_operation_count">
<span class="sig-name descname"><span class="pre">get_operation_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_operation_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_operation_count" title="Link to this definition"></a></dt>
<dd><p>Get the total number of operations in this leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total count of operations including those within clusters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_operational_entry_point">
<span class="sig-name descname"><span class="pre">get_operational_entry_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_operational_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_operational_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for operations within this leg.</p>
<p>Uses first_activity if available, otherwise first activity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>resolver</strong> (<em>object</em><em>, </em><em>optional</em>) – Operation resolver to look up waypoint coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(latitude, longitude) of the operational entry point, or None if not resolvable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_operational_exit_point">
<span class="sig-name descname"><span class="pre">get_operational_exit_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_operational_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_operational_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for operations within this leg.</p>
<p>Uses last_activity if available, otherwise last activity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>resolver</strong> (<em>object</em><em>, </em><em>optional</em>) – Operation resolver to look up waypoint coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(latitude, longitude) of the operational exit point, or None if not resolvable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_port_positions">
<span class="sig-name descname"><span class="pre">get_port_positions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_port_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_port_positions" title="Link to this definition"></a></dt>
<dd><p>Get the geographic positions of departure and arrival ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of ((dep_lat, dep_lon), (arr_lat, arr_lon)) port positions.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[tuple[float, float], tuple[float, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_station_spacing">
<span class="sig-name descname"><span class="pre">get_station_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_station_spacing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_station_spacing" title="Link to this definition"></a></dt>
<dd><p>Get station spacing for this leg (leg-specific override or cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>default_spacing</strong> (<em>float</em>) – The default spacing from the parent cruise configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The effective station spacing for this leg.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_turnaround_time">
<span class="sig-name descname"><span class="pre">get_turnaround_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_turnaround</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_turnaround_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_turnaround_time" title="Link to this definition"></a></dt>
<dd><p>Get turnaround time for this leg (leg-specific override or cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>default_turnaround</strong> (<em>float</em>) – The default turnaround time from the parent cruise configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The effective turnaround time for this leg in minutes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.get_vessel_speed">
<span class="sig-name descname"><span class="pre">get_vessel_speed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.get_vessel_speed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.get_vessel_speed" title="Link to this definition"></a></dt>
<dd><p>Get vessel speed for this leg (leg-specific override or cruise default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>default_speed</strong> (<em>float</em>) – The default speed from the parent cruise configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The effective vessel speed for this leg.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.Leg.is_same_port_leg">
<span class="sig-name descname"><span class="pre">is_same_port_leg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#Leg.is_same_port_leg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.Leg.is_same_port_leg" title="Link to this definition"></a></dt>
<dd><p>Check if this leg departs and arrives at the same port.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if departure and arrival ports are the same, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="cruiseplan.runtime.organizational.ReferenceError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.organizational.</span></span><span class="sig-name descname"><span class="pre">ReferenceError</span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/organizational.html#ReferenceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.organizational.ReferenceError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised when a referenced item is not found in the catalog.</p>
<p>This exception is raised during the reference resolution phase when
string identifiers in the cruise configuration cannot be matched to
their corresponding definitions in the station or transit registries.</p>
</dd></dl>

</section>
<section id="module-cruiseplan.runtime.operations">
<span id="cruiseplan-runtime-operations-module"></span><h2>cruiseplan.runtime.operations module<a class="headerlink" href="#module-cruiseplan.runtime.operations" title="Link to this heading"></a></h2>
<p>Runtime operation classes for cruise planning activities.</p>
<p>Provides the business logic classes that represent active cruise operations.
These are the “core layer” that actually perform cruise planning work.</p>
<p><strong>Relationship to schema/definitions.py:</strong>
- schema/definitions.py: Pydantic models that validate YAML → Python data
- This module: Runtime business objects that do the actual work</p>
<p>Example flow: YAML → PointDefinition (schema) → PointOperation (this module)</p>
<p>This module provides the base operation classes and specialized implementations
for stations, moorings, areas, and transects.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.operations.</span></span><span class="sig-name descname"><span class="pre">AreaOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_km2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_density</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'area'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperation</span></code></a></p>
<p>Activities within defined polygonal regions.</p>
<p>Examples: grid surveys, area monitoring, search patterns.
Operations that cover a defined geographic area rather than specific points or lines.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.boundary_polygon">
<span class="sig-name descname"><span class="pre">boundary_polygon</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.boundary_polygon" title="Link to this definition"></a></dt>
<dd><p>List of (latitude, longitude) tuples defining the area boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[float, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.area_km2">
<span class="sig-name descname"><span class="pre">area_km2</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.area_km2" title="Link to this definition"></a></dt>
<dd><p>Area of the polygon in square kilometers.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.sampling_density">
<span class="sig-name descname"><span class="pre">sampling_density</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.sampling_density" title="Link to this definition"></a></dt>
<dd><p>Sampling density factor for duration calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.duration" title="Link to this definition"></a></dt>
<dd><p>User-specified duration in minutes (required like moorings).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.start_point">
<span class="sig-name descname"><span class="pre">start_point</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.start_point" title="Link to this definition"></a></dt>
<dd><p>Starting coordinates for area operation (latitude, longitude).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.end_point">
<span class="sig-name descname"><span class="pre">end_point</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.end_point" title="Link to this definition"></a></dt>
<dd><p>Ending coordinates for area operation (latitude, longitude).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_km2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_density</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'area'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize an area operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this operation.</p></li>
<li><p><strong>boundary_polygon</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em>) – List of (latitude, longitude) tuples defining the area boundary.</p></li>
<li><p><strong>area_km2</strong> (<em>float</em>) – Area of the polygon in square kilometers.</p></li>
<li><p><strong>duration</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) – User-specified duration in minutes (required for scheduling).</p></li>
<li><p><strong>start_point</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Starting coordinates (latitude, longitude). Defaults to first corner.</p></li>
<li><p><strong>end_point</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Ending coordinates (latitude, longitude). Defaults to last corner.</p></li>
<li><p><strong>sampling_density</strong> (<em>float</em><em>, </em><em>optional</em>) – Sampling density factor for duration calculations (default: 1.0).</p></li>
<li><p><strong>comment</strong> (<em>str</em><em>, </em><em>optional</em>) – Human-readable comment or description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.calculate_duration">
<span class="sig-name descname"><span class="pre">calculate_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation.calculate_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.calculate_duration" title="Link to this definition"></a></dt>
<dd><p>Calculate duration using user-specified duration or fallback formula.</p>
<p>For area operations, duration must be specified by the user (like moorings)
since area coverage patterns are highly variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules and parameters (unused for area operations).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Duration in minutes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If duration is not specified by user.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.from_pydantic">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pydantic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><span class="pre">AreaDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.operations.AreaOperation" title="cruiseplan.runtime.operations.AreaOperation"><span class="pre">AreaOperation</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation.from_pydantic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.from_pydantic" title="Link to this definition"></a></dt>
<dd><p>Factory to create an area operation from a validated Pydantic model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><em>AreaDefinition</em></a>) – Validated Pydantic area definition model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New AreaOperation instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.operations.AreaOperation" title="cruiseplan.runtime.operations.AreaOperation">AreaOperation</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If duration is not specified in the area definition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.get_entry_point">
<span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for this area operation.</p>
<p>For area operations, this is the start point of the survey pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the area entry point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.AreaOperation.get_exit_point">
<span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#AreaOperation.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.AreaOperation.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for this area operation.</p>
<p>For area operations, this is the end point of the survey pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the area exit point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.operations.</span></span><span class="sig-name descname"><span class="pre">BaseOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract base class for all cruise operations.</p>
<p>This class defines the common interface that all cruise operations must
implement, providing a foundation for different types of oceanographic
activities.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.name" title="Link to this definition"></a></dt>
<dd><p>Unique identifier for this operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.comment">
<span class="sig-name descname"><span class="pre">comment</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.comment" title="Link to this definition"></a></dt>
<dd><p>Optional human-readable comment or description.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a base operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this operation.</p></li>
<li><p><strong>comment</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Human-readable comment or description.</p></li>
<li><p><strong>display_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Human-readable display name for maps, CSV, and HTML output.
Defaults to name if not provided.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.calculate_duration">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.calculate_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.calculate_duration" title="Link to this definition"></a></dt>
<dd><p>Calculate duration in minutes based on provided rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules and parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Duration in minutes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.get_coordinates">
<span class="sig-name descname"><span class="pre">get_coordinates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.GeoPoint" title="cruiseplan.config.activities.GeoPoint"><span class="pre">GeoPoint</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.GeoPoint" title="cruiseplan.config.activities.GeoPoint"><span class="pre">GeoPoint</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.get_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.get_coordinates" title="Link to this definition"></a></dt>
<dd><p>Get entry and exit coordinates as GeoPoint objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(entry_point, exit_point) as GeoPoint objects.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.GeoPoint" title="cruiseplan.config.activities.GeoPoint">GeoPoint</a>, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.GeoPoint" title="cruiseplan.config.activities.GeoPoint">GeoPoint</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.get_entry_point">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for this operation.</p>
<p>For point operations (stations, moorings): same as operation location.
For line operations (transits): start of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the operation’s entry point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.get_exit_point">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for this operation.</p>
<p>For point operations (stations, moorings): same as operation location.
For line operations (transits): end of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the operation’s exit point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.get_label">
<span class="sig-name descname"><span class="pre">get_label</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.get_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.get_label" title="Link to this definition"></a></dt>
<dd><p>Get human-readable label for this operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Human-readable label, defaults to operation name.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.BaseOperation.get_operation_type">
<span class="sig-name descname"><span class="pre">get_operation_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#BaseOperation.get_operation_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.BaseOperation.get_operation_type" title="Link to this definition"></a></dt>
<dd><p>Get operation type for timeline display.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Operation type identifier (e.g., “Station”, “Transit”, “Area”).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.operations.</span></span><span class="sig-name descname"><span class="pre">LineOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperation</span></code></a></p>
<p>Continuous activity involving movement (Transit, Towyo).</p>
<p>Represents operations that involve traveling between points, such as
vessel transits or towed instrument deployments.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.route">
<span class="sig-name descname"><span class="pre">route</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.route" title="Link to this definition"></a></dt>
<dd><p>List of geographic waypoints as (latitude, longitude) tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.speed">
<span class="sig-name descname"><span class="pre">speed</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.speed" title="Link to this definition"></a></dt>
<dd><p>Vessel speed in knots.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a line operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this operation.</p></li>
<li><p><strong>route</strong> (<em>List</em><em>[</em><em>tuple</em><em>]</em>) – List of geographic waypoints as (latitude, longitude) tuples.</p></li>
<li><p><strong>speed</strong> (<em>float</em><em>, </em><em>optional</em>) – Vessel speed in knots (default: 10.0).</p></li>
<li><p><strong>comment</strong> (<em>str</em><em>, </em><em>optional</em>) – Human-readable comment or description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.calculate_duration">
<span class="sig-name descname"><span class="pre">calculate_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.calculate_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.calculate_duration" title="Link to this definition"></a></dt>
<dd><p>Calculate duration for the line operation based on route distance and vessel speed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules containing config with default_vessel_speed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Duration in minutes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.from_pydantic">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pydantic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><span class="pre">LineDefinition</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.operations.LineOperation" title="cruiseplan.runtime.operations.LineOperation"><span class="pre">LineOperation</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.from_pydantic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.from_pydantic" title="Link to this definition"></a></dt>
<dd><p>Factory to create a line operation from a validated Pydantic model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><em>LineDefinition</em></a>) – Validated Pydantic transit definition model.</p></li>
<li><p><strong>default_speed</strong> (<em>float</em>) – Default vessel speed to use if not specified in the model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New LineOperation instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.operations.LineOperation" title="cruiseplan.runtime.operations.LineOperation">LineOperation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.get_entry_point">
<span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for this line operation.</p>
<p>For line operations, this is the start of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the route start point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.get_exit_point">
<span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for this line operation.</p>
<p>For line operations, this is the end of the route.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the route end point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.LineOperation.get_operation_distance_nm">
<span class="sig-name descname"><span class="pre">get_operation_distance_nm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#LineOperation.get_operation_distance_nm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.LineOperation.get_operation_distance_nm" title="Link to this definition"></a></dt>
<dd><p>Calculate the total route distance for this line operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total route distance in nautical miles.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.operations.</span></span><span class="sig-name descname"><span class="pre">PointOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">water_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'station'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cruiseplan.runtime.operations.BaseOperation" title="cruiseplan.runtime.operations.BaseOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOperation</span></code></a></p>
<p>Atomic activity at a fixed location.</p>
<p>Handles both Stations (CTD casts) and Moorings (deploy/recover operations).
Represents the most basic unit of work in a cruise plan.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.position">
<span class="sig-name descname"><span class="pre">position</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.position" title="Link to this definition"></a></dt>
<dd><p>Geographic position as (latitude, longitude).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.depth">
<span class="sig-name descname"><span class="pre">depth</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.depth" title="Link to this definition"></a></dt>
<dd><p>Operation depth in meters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.manual_duration">
<span class="sig-name descname"><span class="pre">manual_duration</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.manual_duration" title="Link to this definition"></a></dt>
<dd><p>User-specified duration override in minutes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.op_type">
<span class="sig-name descname"><span class="pre">op_type</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.op_type" title="Link to this definition"></a></dt>
<dd><p>Type of operation (‘station’ or ‘mooring’).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.action">
<span class="sig-name descname"><span class="pre">action</span></span><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.action" title="Link to this definition"></a></dt>
<dd><p>Specific action for moorings (deploy/recover).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">water_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'station'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a point operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique identifier for this operation.</p></li>
<li><p><strong>position</strong> (<em>tuple</em>) – Geographic position as (latitude, longitude).</p></li>
<li><p><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em>) – Operation depth in meters (default: 0.0).</p></li>
<li><p><strong>duration</strong> (<em>float</em><em>, </em><em>optional</em>) – Manual duration override in minutes (default: 0.0).</p></li>
<li><p><strong>comment</strong> (<em>str</em><em>, </em><em>optional</em>) – Human-readable comment or description.</p></li>
<li><p><strong>op_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of operation (‘station’ or ‘mooring’, default: ‘station’).</p></li>
<li><p><strong>action</strong> (<em>str</em><em>, </em><em>optional</em>) – Specific action for moorings (deploy/recover).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.calculate_duration">
<span class="sig-name descname"><span class="pre">calculate_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.calculate_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.calculate_duration" title="Link to this definition"></a></dt>
<dd><p>Calculate duration based on operation type and rules.</p>
<p>Uses manual duration if specified, otherwise calculates based on
operation type (CTD time for stations, default duration for moorings).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Any</em>) – Duration calculation rules containing config.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Duration in minutes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.from_port">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.operations.PointOperation" title="cruiseplan.runtime.operations.PointOperation"><span class="pre">PointOperation</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.from_port"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.from_port" title="Link to this definition"></a></dt>
<dd><p>Factory to create a PointOperation from a PointDefinition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a>) – Port definition model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New PointOperation instance representing a port.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.operations.PointOperation" title="cruiseplan.runtime.operations.PointOperation">PointOperation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.from_pydantic">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pydantic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cruiseplan.runtime.operations.PointOperation" title="cruiseplan.runtime.operations.PointOperation"><span class="pre">PointOperation</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.from_pydantic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.from_pydantic" title="Link to this definition"></a></dt>
<dd><p>Factory to create a logical operation from a validated Pydantic model.</p>
<p>Handles the internal ‘position’ normalization done by FlexibleLocationModel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a>) – Validated Pydantic station definition model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New PointOperation instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#cruiseplan.runtime.operations.PointOperation" title="cruiseplan.runtime.operations.PointOperation">PointOperation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.get_depth">
<span class="sig-name descname"><span class="pre">get_depth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.get_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.get_depth" title="Link to this definition"></a></dt>
<dd><p>Get the appropriate depth for this operation.</p>
<p>Returns operation_depth if available, otherwise water_depth,
otherwise 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Depth in meters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.get_entry_point">
<span class="sig-name descname"><span class="pre">get_entry_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.get_entry_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.get_entry_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic entry point for this point operation.</p>
<p>For point operations, entry and exit are the same location.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the operation location.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.get_exit_point">
<span class="sig-name descname"><span class="pre">get_exit_point</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.get_exit_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.get_exit_point" title="Link to this definition"></a></dt>
<dd><p>Get the geographic exit point for this point operation.</p>
<p>For point operations, entry and exit are the same location.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(latitude, longitude) of the operation location.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cruiseplan.runtime.operations.PointOperation.get_operation_type">
<span class="sig-name descname"><span class="pre">get_operation_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/operations.html#PointOperation.get_operation_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.operations.PointOperation.get_operation_type" title="Link to this definition"></a></dt>
<dd><p>Get operation type for timeline display.</p>
<p>Returns appropriate display type based on the op_type and action attributes.
For ports, returns “Port_Departure” or “Port_Arrival” based on action.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Operation type identifier (“Station”, “Mooring”, “Port_Departure”, “Port_Arrival”, etc.).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-cruiseplan.runtime.enrichment">
<span id="cruiseplan-runtime-enrichment-module"></span><h2>cruiseplan.runtime.enrichment module<a class="headerlink" href="#module-cruiseplan.runtime.enrichment" title="Link to this heading"></a></h2>
<p>Cruise configuration enrichment functions.</p>
<p>This module contains functions for enriching cruise configurations by adding
missing data like depths, coordinate displays, and expanding sections into
individual stations. These functions operate on CruiseInstance objects.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.enrichment.add_coordinate_displays">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.enrichment.</span></span><span class="sig-name descname"><span class="pre">add_coordinate_displays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ddm'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/enrichment.html#add_coordinate_displays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.enrichment.add_coordinate_displays" title="Link to this definition"></a></dt>
<dd><p>Add human-readable coordinate display fields for final YAML output.</p>
<p>This function adds formatted coordinate fields (latitude_display, longitude_display)
to all geographic entities (stations, ports, etc.) for better human readability
in generated YAML files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to modify</p></li>
<li><p><strong>coord_format</strong> (<em>str</em><em>, </em><em>optional</em>) – Coordinate format (“ddm” for degrees/decimal minutes, “dms” for degrees/minutes/seconds)
Default is “ddm”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of entities that had coordinate displays added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.enrichment.add_station_defaults">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.enrichment.</span></span><span class="sig-name descname"><span class="pre">add_station_defaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/enrichment.html#add_station_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.enrichment.add_station_defaults" title="Link to this definition"></a></dt>
<dd><p>Add missing defaults to station definitions.</p>
<p>This function adds default values for station fields based on operation type
and scientific best practices. Currently focuses on mooring duration defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to modify</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of stations that had defaults added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.enrichment.enrich_depths">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.enrichment.</span></span><span class="sig-name descname"><span class="pre">enrich_depths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'etopo2022'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'data'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/enrichment.html#enrich_depths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.enrichment.enrich_depths" title="Link to this definition"></a></dt>
<dd><p>Add missing depth values to stations using bathymetry data.</p>
<p>This function queries bathymetry data to fill in missing water depth values
for stations that don’t have them specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to modify</p></li>
<li><p><strong>bathymetry_source</strong> (<em>str</em><em>, </em><em>optional</em>) – Bathymetry dataset to use (default: “etopo2022”)</p></li>
<li><p><strong>bathymetry_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – Directory containing bathymetry data (default: “data”)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set of station names that had depths added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.enrichment.expand_ports">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.enrichment.</span></span><span class="sig-name descname"><span class="pre">expand_ports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/enrichment.html#expand_ports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.enrichment.expand_ports" title="Link to this definition"></a></dt>
<dd><p>Expand global port references into full PortDefinition objects.</p>
<p>This function processes port references in the cruise configuration and
expands them into full port definitions with coordinates and metadata.</p>
<p>Note: In v0.3.4+ architecture, ports are automatically resolved during
CruiseInstance creation, so this function may be largely redundant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to modify</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with expansion summary:
- ports_expanded: Number of port references expanded
- ports_added: Number of port definitions added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.enrichment.expand_sections">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.enrichment.</span></span><span class="sig-name descname"><span class="pre">expand_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-9999.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/enrichment.html#expand_sections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.enrichment.expand_sections" title="Link to this definition"></a></dt>
<dd><p>Expand CTD sections into individual station definitions.</p>
<p>This method finds CTD sections in lines catalog and expands them into
individual stations, adding them to the point_registry. This is structural
enrichment that modifies the cruise configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to modify</p></li>
<li><p><strong>default_depth</strong> (<em>float</em><em>, </em><em>optional</em>) – Default depth value for expanded stations. Default is -9999.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with expansion summary:
- sections_expanded: Number of sections expanded
- stations_from_expansion: Number of stations created</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, int]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cruiseplan.runtime.serialization">
<span id="cruiseplan-runtime-serialization-module"></span><h2>cruiseplan.runtime.serialization module<a class="headerlink" href="#module-cruiseplan.runtime.serialization" title="Link to this heading"></a></h2>
<p>Cruise configuration serialization functions.</p>
<p>This module contains high-level business logic for serializing CruiseInstance objects back to
dictionary and YAML formats with proper field ordering and comment preservation.</p>
<p><strong>I/O Module Architecture:</strong>
- <strong>cruiseplan.utils.io</strong>: File system validation, path handling, directory creation
- <strong>cruiseplan.schema.yaml_io</strong>: YAML file format reading/writing with comment preservation (used by this module)
- <strong>cruiseplan.core.serialization</strong> (this module): High-level CruiseInstance object serialization to YAML
- <strong>cruiseplan.output.*_generator</strong>: Specialized output format generators (HTML, LaTeX, CSV, etc.)</p>
<p><strong>Dependencies</strong>: Uses <cite>cruiseplan.schema.yaml_io</cite> for YAML operations and <cite>cruiseplan.utils.io</cite> for file handling.</p>
<p><strong>See Also</strong>:
- For file system operations: <cite>cruiseplan.utils.io</cite>
- For YAML file operations: <cite>cruiseplan.schema.yaml_io</cite>
- For generating specific output formats: <cite>cruiseplan.output.html_generator</cite>, <cite>cruiseplan.output.latex_generator</cite>, etc.
- For the enrichment process that uses these functions: <cite>cruiseplan.core.enrichment</cite></p>
<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.deserialize_inline_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">deserialize_inline_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definition_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><span class="pre">LineDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><span class="pre">AreaDefinition</span></a></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#deserialize_inline_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.deserialize_inline_definition" title="Link to this definition"></a></dt>
<dd><p>Convert an inline dictionary definition to the appropriate definition object.</p>
<p>Determines the type of definition based on the presence of key fields
and creates the corresponding Pydantic object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>definition_dict</strong> (<em>dict</em>) – Dictionary containing the inline definition fields.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The appropriate definition object created from the dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition">PointDefinition</a>, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition">LineDefinition</a>, <a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition">AreaDefinition</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the definition type cannot be determined or validation fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_area_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_area_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><span class="pre">AreaDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_area_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_area_definition" title="Link to this definition"></a></dt>
<dd><p>Serialize an AreaDefinition to dictionary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>area</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><em>AreaDefinition</em></a>) – The area definition to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serialized area definition dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_cluster_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_cluster_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><span class="pre">ClusterDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_cluster_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_cluster_definition" title="Link to this definition"></a></dt>
<dd><p>Serialize a ClusterDefinition to dictionary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cluster</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><em>ClusterDefinition</em></a>) – The cluster definition to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serialized cluster definition dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><span class="pre">LineDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><span class="pre">AreaDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><span class="pre">ClusterDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><span class="pre">LegDefinition</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_definition" title="Link to this definition"></a></dt>
<dd><p>Convert a Pydantic definition object to a dictionary with field filtering.</p>
<p>This function extracts only the allowed fields from the object, filtering out
internal fields and maintaining canonical field ordering from YAML_FIELD_ORDER.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Union</em><em>[</em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><em>LineDefinition</em></a><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><em>AreaDefinition</em></a><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.ClusterDefinition" title="cruiseplan.config.cruise_config.ClusterDefinition"><em>ClusterDefinition</em></a><em>, </em><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><em>LegDefinition</em></a><em>]</em>) – The Pydantic object to serialize</p></li>
<li><p><strong>allowed_fields</strong> (<em>Union</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>set</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Collection of field names that should be included in the output.
Field ordering is determined by YAML_FIELD_ORDER, not by this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing only the allowed fields with their values in canonical order</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_leg_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_leg_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><span class="pre">LegDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_leg_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_leg_definition" title="Link to this definition"></a></dt>
<dd><p>Serialize a LegDefinition to dictionary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>leg</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.cruise_config.LegDefinition" title="cruiseplan.config.cruise_config.LegDefinition"><em>LegDefinition</em></a>) – The leg definition to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serialized leg definition dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_line_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_line_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><span class="pre">LineDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_line_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_line_definition" title="Link to this definition"></a></dt>
<dd><p>Serialize a LineDefinition to dictionary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>line</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><em>LineDefinition</em></a>) – The line definition to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serialized line definition dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.serialize_point_definition">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">serialize_point_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#serialize_point_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.serialize_point_definition" title="Link to this definition"></a></dt>
<dd><p>Serialize a PointDefinition to dictionary format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>point</strong> (<a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><em>PointDefinition</em></a>) – The point definition to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serialized point definition dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.to_commented_dict">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">to_commented_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#to_commented_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.to_commented_dict" title="Link to this definition"></a></dt>
<dd><p>Export CruiseInstance configuration to a structured dictionary with comment preservation.</p>
<p>This method provides the foundation for YAML output with canonical field
ordering and comment preservation capabilities. Returns a dictionary that
can be processed by ruamel.yaml for structured output with comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to serialize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with canonical field ordering suitable for YAML export
with comment preservation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The output dictionary follows canonical ordering:
1. Cruise Metadata (cruise_name, description, start_date, start_time)
2. Vessel Parameters (default_vessel_speed, turnaround_time, etc.)
3. Calculation Settings (calculate_*, day_start_hour, etc.)
4. Catalog Definitions (points, lines, areas, ports)
5. Schedule Organization (legs)</p>
<p>Comment preservation is handled at the YAML layer using ruamel.yaml
with end-of-line and section header comment support.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cruiseplan.runtime.serialization.to_yaml">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.serialization.</span></span><span class="sig-name descname"><span class="pre">to_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_comments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/serialization.html#to_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cruiseplan.runtime.serialization.to_yaml" title="Link to this definition"></a></dt>
<dd><p>Export CruiseInstance configuration to YAML format with comment preservation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – The cruise instance to serialize</p></li>
<li><p><strong>output_file</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Path to write YAML file. If None, returns YAML string.</p></li>
<li><p><strong>backup</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to create backup of existing file (default: True)</p></li>
<li><p><strong>add_comments</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to add descriptive comments to YAML (default: True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>YAML string if output_file is None, otherwise None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Save to file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cruise</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="s2">&quot;enhanced_cruise.yaml&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get YAML string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yaml_str</span> <span class="o">=</span> <span class="n">cruise</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="cruiseplan-runtime-validation-module">
<h2>cruiseplan.runtime.validation module<a class="headerlink" href="#cruiseplan-runtime-validation-module" title="Link to this heading"></a></h2>
<p>Core validation functions for cruise configurations.</p>
<p>This module contains validation business logic that operates on CruiseInstance objects.
These functions perform the actual validation checks without file I/O or API concerns.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">check_complete_duplicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#check_complete_duplicates"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check for completely identical entries (same name, coordinates, operation, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Loaded cruise configuration object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (errors, warnings) for complete duplicate detection.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[str], List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">check_cruise_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#check_cruise_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check cruise metadata for placeholder values and default coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Cruise instance to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of warnings about metadata issues.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">check_duplicate_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#check_duplicate_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check for duplicate names across different configuration sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Loaded cruise configuration object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (errors, warnings) for duplicate detection.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[str], List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">check_unexpanded_ctd_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#check_unexpanded_ctd_sections"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check for CTD sections that haven’t been expanded yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Cruise instance to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of warnings about unexpanded CTD sections.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">clean_warning_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">warning_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#clean_warning_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Clean up warning message for user display.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">format_validation_warnings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">captured_warnings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#format_validation_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Format captured Pydantic warnings into user-friendly grouped messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>captured_warnings</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of captured warning messages from Pydantic validators.</p></li>
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Cruise instance to map warnings to specific entities.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Formatted warning messages grouped by type and sorted alphabetically.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">validate_depth_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cruise_instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><span class="pre">CruiseInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.data.html#cruiseplan.data.bathymetry.BathymetryManager" title="cruiseplan.data.bathymetry.BathymetryManager"><span class="pre">BathymetryManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#validate_depth_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Compare station water depths with bathymetry data.</p>
<p>Validates that stated water depths are reasonably close to bathymetric depths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cruise_instance</strong> (<a class="reference internal" href="#cruiseplan.runtime.cruise.CruiseInstance" title="cruiseplan.runtime.cruise.CruiseInstance"><em>CruiseInstance</em></a>) – Loaded cruise configuration object.</p></li>
<li><p><strong>bathymetry_manager</strong> (<a class="reference internal" href="cruiseplan.data.html#cruiseplan.data.bathymetry.BathymetryManager" title="cruiseplan.data.bathymetry.BathymetryManager"><em>BathymetryManager</em></a>) – Bathymetry data manager instance.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – Tolerance percentage for depth differences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (stations_checked, warning_messages) where:
- stations_checked: Number of stations with depth data
- warning_messages: List of depth discrepancy warnings</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[int, List[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">cruiseplan.runtime.validation.</span></span><span class="sig-name descname"><span class="pre">warning_relates_to_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">warning_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.PointDefinition" title="cruiseplan.config.activities.PointDefinition"><span class="pre">PointDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.LineDefinition" title="cruiseplan.config.activities.LineDefinition"><span class="pre">LineDefinition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cruiseplan.config.html#cruiseplan.config.activities.AreaDefinition" title="cruiseplan.config.activities.AreaDefinition"><span class="pre">AreaDefinition</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/cruiseplan/runtime/validation.html#warning_relates_to_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Check if a warning message relates to a specific entity by examining field values.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cruiseplan.output.html" class="btn btn-neutral float-left" title="Output formats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cruiseplan.timeline.html" class="btn btn-neutral float-right" title="Timeline &amp; Scheduling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>